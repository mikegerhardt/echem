\name{import_cycling_stats}
\alias{import_cycling_stats}
%- Also NEED an '\alias' for EACH other topic documented here.
\title{
Import data sheet on constant current cycling statistics
}
\description{
Imports a Gamry .DTA file with cycling statistics. These are usually generated by Gamry software during cyclic charge/discharge experiments, for example.
}
\usage{
import_cycling_stats(inputfile = file.choose(), cols = c("Type", "Cycle", "Charge", "Duration", "Vstart", "Vend", "Energy"), efficiencies = TRUE)
}
%- maybe also 'usage' for other objects documented here.
\arguments{
  \item{inputfile}{
File to be imported.
}
  \item{cols}{
Columns to be imported
}
  \item{efficiencies}{
A flag to tell R whether or not to calculate current efficiency and energy efficiency. Defaults to TRUE. It will not work if you don't have "Type", "Charge", and "Energy" columns.
}
}
\details{
%%  ~~ If necessary, more details than the description above ~~
}
\value{
Outputs a data frame with the specified columns, plus current and energy efficiencies if efficiencies was set to TRUE.
}
\references{
%% ~put references to the literature/web site here ~
}
\author{
Mike Gerhardt
}
\note{
%%  ~~further notes~~
}

%% ~Make other sections like Warning with \section{Warning }{....} ~

\seealso{
%% ~~objects to See Also as \code{\link{help}}, ~~~
}
\examples{
##---- Should be DIRECTLY executable !! ----
##-- ==>  Define data, use random,
##--	or do  help(data=index)  for the standard data sets.

## The function is currently defined as
function (inputfile = file.choose(), cols = c("Type", "Charge", 
    "Duration", "Vstart", "Vend", "Energy"), efficiencies = TRUE) 
{
    inputdf <- importGamry(file.choose())
    outdf <- inputdf[, cols]
    if (efficiencies == TRUE) {
        charge_cycles <- subset(outdf, Type == 0)
        discharge_cycles <- subset(outdf, Type == 1)
        ceffy <- discharge_cycles$Charge/charge_cycles$Charge
        eeffy <- -discharge_cycles$Energy/charge_cycles$Energy
        outdf <- outdf[with(outdf, order(Type)), ]
        outdf$ceffy <- ceffy
        outdf$eeffy <- eeffy
    }
    return(outdf)
  }
}
% Add one or more standard keywords, see file 'KEYWORDS' in the
% R documentation directory.
\keyword{ ~kwd1 }
\keyword{ ~kwd2 }% __ONLY ONE__ keyword per line
